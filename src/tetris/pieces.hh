#ifndef PIECES_H_
#define PIECES_H_

#include <curses.h>

enum PIECE_COLOUR {
  BLUE = 1,
  RED = 2,
  GREEN = 3,
  YELLOW = 4,
  MAGENTA = 5,
  CYAN = 6,
  WHITE = 7
};

struct tetromino {
  char rotations[4][5][5];
  int x = 0, y = 0;
  int rotation = 0;
  PIECE_COLOUR colour;
} typedef tetromino;

static const tetromino I = {.rotations = {{{0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 1, 1, 1, 1},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {1, 1, 1, 1, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0}}},
                            .x = 2,
                            .y = -1,
                            .rotation = 0,
                            .colour = BLUE};

static const tetromino J = {.rotations = {{{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 1, 1},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {1, 1, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0}}},
                            .x = 2,
                            .y = -2,
                            .rotation = 0,
                            .colour = RED};

static const tetromino L = {.rotations = {{{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {1, 1, 1, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 1, 1},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 0, 0}}},
                            .x = 2,
                            .y = -2,
                            .rotation = 0,
                            .colour = GREEN};

static const tetromino O = {.rotations = {{{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0}}},
                            .x = 0,
                            .y = -2,
                            .rotation = 0,
                            .colour = YELLOW};

static const tetromino S = (tetromino){.rotations = {{{0, 0, 0, 0, 0},
                                                      {0, 1, 0, 0, 0},
                                                      {0, 1, 1, 0, 0},
                                                      {0, 0, 1, 0, 0},
                                                      {0, 0, 0, 0, 0}},
                                                     {{0, 0, 0, 0, 0},
                                                      {0, 0, 0, 0, 0},
                                                      {0, 0, 1, 1, 0},
                                                      {0, 1, 1, 0, 0},
                                                      {0, 0, 0, 0, 0}},
                                                     {{0, 0, 0, 0, 0},
                                                      {0, 1, 0, 0, 0},
                                                      {0, 1, 1, 0, 0},
                                                      {0, 0, 1, 0, 0},
                                                      {0, 0, 0, 0, 0}},
                                                     {{0, 0, 0, 0, 0},
                                                      {0, 0, 1, 1, 0},
                                                      {0, 1, 1, 0, 0},
                                                      {0, 0, 0, 0, 0},
                                                      {0, 0, 0, 0, 0}}},
                                       .x = 2,
                                       .y = -1,
                                       .rotation = 0,
                                       .colour = MAGENTA};

static const tetromino T = {.rotations = {{{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 1, 1, 1, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 1, 1, 1, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 0, 0, 0, 0}}},
                            .x = 2,
                            .y = -2,
                            .rotation = 0,
                            .colour = CYAN};

static const tetromino Z = {.rotations = {{{0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 1, 0, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 1, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 1, 0, 0, 0},
                                           {0, 0, 0, 0, 0}},
                                          {{0, 0, 0, 0, 0},
                                           {0, 0, 0, 0, 0},
                                           {0, 1, 1, 0, 0},
                                           {0, 0, 1, 1, 0},
                                           {0, 0, 0, 0, 0}}},
                            .x = 2,
                            .y = -1,
                            .rotation = 0,
                            .colour = WHITE};

static const tetromino tetrominos[7] = {I, J, L, O, S, T, Z};

#endif
